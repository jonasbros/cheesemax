{"version":3,"sources":["firebase.config.js","components/BaseBtn.tsx","components/SignInPage.tsx","components/BaseInput.tsx","components/Avatar.tsx","components/SearchMarsResults.tsx","components/SearchMars.tsx","components/MarsChatList.tsx","components/DashboardLeftSidebar.tsx","components/Messages.tsx","components/SignOut.tsx","components/ChatBox.tsx","components/Dashboard.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","BaseBtn","btnProps","onClick","btnSize","size","className","color","type","text","SignIn","provider","GoogleAuthProvider","signInWithPopup","onAuthStateChanged","user","userRef","collection","serverTimestamp","FieldValue","doc","uid","set","displayName","email","photoURL","createdAt","SignInPage","src","alt","height","width","BaseInput","inputProps","onInput","onDebouncedInput","onBlur","debounceInput","_","debounce","target","debounceBlur","labelHidden","htmlFor","label","id","placeholder","required","autoComplete","onKeyUp","e","Avatar","addedClass","imgSize","SearchMarsResults","marsResults","addMarsState","addMarsResult","mars","addMarsFirestore","a","currentUser","marsRef","getUser","get","getGetUser","marsData","authUID","lastMessageTime","console","log","exists","length","map","SearchMars","onAddMars","useState","showSearchMarsResults","setShowSearchMarsResults","setMarsResults","searchMars","value","where","orderBy","startAt","endAt","marsRes","marsResData","forEach","push","data","hideMarsResults","MarsChatList","marsList","DashboardLeftSidebar","onClickMarsListItem","setMarsList","useEffect","getMarsChatList","marsListRef","marsListData","newMars","Messages","message","isAuthMsgOwner","senderUID","msgSide","imgOrder","time","sendTime","toDate","toLocaleString","senderPhoto","SignOut","signOut","ChatBox","marsChat","textareaVal","useRef","marsMsgs","limit","useCollectionData","idField","messages","sendMessage","current","msgObj","marsPhoto","ref","rows","key","onEnterSendMessage","Dashboard","setMarsChat","fetchMessages","App","useAuthState","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4207e8ae.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\"\nimport \"firebase/compat/firestore\"\nimport \"firebase/compat/auth\"\n// import { getAnalytics } from \"firebase/analytic\"\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyD_FOpZC2gs3zmc0VTNMYeI01m16CWTRs4\",\n    authDomain: \"react-chat-f3838.firebaseapp.com\",\n    projectId: \"react-chat-f3838\",\n    storageBucket: \"react-chat-f3838.appspot.com\",\n    messagingSenderId: \"151810268195\",\n    appId: \"1:151810268195:web:297a5964e13902d8716596\",\n    measurementId: \"G-W6RKDR17B6\"\n}\n\nexport {firebase}\nexport const app = firebase.initializeApp(firebaseConfig)\nexport const firestore = firebase.firestore()\nexport const auth = firebase.auth()\n\nconst defaultObj = { app, firestore, auth, firebase }\nexport default defaultObj\n\n ","import React from 'react'\n\ninterface btnPropsInterface {\n    type: any; \n    color: string; \n    text: string;\n    size?: string;\n}\n\ninterface BaseBtnInterface { \n    btnProps: btnPropsInterface;\n    onClick?: Function;\n}\n\nfunction BaseBtn({ btnProps, onClick }: BaseBtnInterface) {\n    let btnSize = 'py-3 px-6'\n\n    if( btnProps.size === 'small' ) {\n        btnSize = 'py-0.5 px-4 text-sm h-8'\n    }\n\n    if( btnProps.size === 'fullheight' ) {\n        btnSize = 'h-full w-24'\n    }\n\n    return (\n        <button \n            onClick={() => { if(onClick) onClick() }}\n            className={`${btnSize} text-white rounded-md bg-${btnProps.color}-500 hover:bg-${btnProps.color}-700 transform transition-transform hover:-translate-y-0.5 hover:shadow-md`}\n            type={btnProps.type} \n        >\n            {btnProps.text}\n        </button>\n    )\n}\n\nexport default BaseBtn","import { firebase, auth, firestore } from './../firebase.config'\n//components\nimport BaseBtn from './BaseBtn'\n\nfunction SignInPage() {\n    return (\n        <main className=\"w-full h-full flex flex-col items-center bg-yellow-200 mx-auto pt-20\">\n            <img \n                className=\"animate-bounce\"\n                src=\"/logo.png\" \n                alt=\"Cheesemax\" \n                height=\"140\" \n                width=\"140\"\n            />\n            <h1 className=\"text-6xl text-blue-600 font-bold my-9 uppercase\">Cheesemax</h1>\n            {SignIn()}\n        </main>\n    )\n}\n\nfunction SignIn() {\n    const signInWithGoogle = () => {\n        const provider = new firebase.auth.GoogleAuthProvider()\n        auth.signInWithPopup(provider)\n\n        auth.onAuthStateChanged(user => {            \n            if( user ) {\n                const userRef = firestore.collection('users')\n                const { serverTimestamp } = firebase.firestore.FieldValue\n                const getUser = userRef.doc(user.uid)\n                \n                getUser.set({\n                    displayName: user.displayName,\n                    email: user.email,\n                    photoURL: user.photoURL,\n                    createdAt: serverTimestamp()\n                })\n            }\n        })\n    }\n\n    return (\n        <BaseBtn \n            onClick={signInWithGoogle}\n            btnProps={{\n                type: 'button',\n                color: 'blue',\n                text: 'Sign in with Google'\n            }}\n        />\n    )\n}\n\nexport default SignInPage\n","import React from 'react'\nimport _ from 'lodash'\n\ninterface inputPropsInterface {\n    type: string; \n    labelHidden: boolean; \n    required: boolean;\n    label: string;\n}\n\ninterface BaseInputInterface { \n    inputProps: inputPropsInterface;\n    onInput: Function;\n    onDebouncedInput: Function;\n    onClick: Function;\n    onBlur: Function;\n}\n\nfunction BaseInput({ inputProps, onInput, onDebouncedInput, onClick, onBlur }: BaseInputInterface) {\n    const debounceInput = _.debounce((target) => {\n        onDebouncedInput(target)\n    }, 500)\n\n    const debounceBlur = _.debounce(() => {\n        onBlur()\n    }, 100)\n\n    return (\n        <>\n            <label className={inputProps.labelHidden ? 'hidden' : ''} htmlFor={inputProps.type}>{inputProps.label}</label>\n            <input \n                className=\"p-4 w-full border-2 border-blue-300 rounded-md focus:outline-none focus:ring-2 ring-blue-500\" \n                id={inputProps.type} \n                type={inputProps.type} \n                placeholder={inputProps.label}\n                required={inputProps.required}\n                autoComplete=\"pepelaugh\"\n                onKeyUp={(e) => {\n                    onInput()\n                    debounceInput(e.target)\n                }}\n                onClick={(e) => onClick(e.target)}\n                onBlur={() => debounceBlur()}\n            />\n        </>\n    )\n}\n\n\n\nexport default BaseInput","import React from 'react'\n\nfunction Avatar({ src, alt, size, addedClass }: { src: string; alt: string; size?: string; addedClass?: string; }) {\n    let imgSize = \"h-12 w-12\"\n\n    if( size === 'small' ) {\n        imgSize = \"h-8 w-8\"\n    }\n\n    return (\n        <img \n            className={`rounded-full ${imgSize} ${addedClass}`}\n            src={src} \n            alt={alt}\n        />\n    );\n}\n\n\nexport default Avatar\n","import React from 'react'\nimport { firebase, firestore, auth } from './../firebase.config'\n\nimport BaseBtn from './BaseBtn'\nimport Avatar from './Avatar'\n\n\nfunction SearchMarsResults({ marsResults, addMarsState }: { marsResults: any, addMarsState: Function }) {\n    function addMarsResult(mars: any) {\n        addMarsState(mars)\n        addMarsFirestore(mars)\n    }\n\n    async function addMarsFirestore(mars: any) {\n        if( auth.currentUser ) {\n            let marsRef = firestore.collection('mars')\n            let getUser = marsRef.doc(auth.currentUser.uid + mars.uid)\n            let getGetUser = await getUser.get()\n            let { serverTimestamp } = firebase.firestore.FieldValue\n\n\n            let marsData = {\n                authUID: auth.currentUser.uid,\n                ...mars,\n                lastMessageTime: serverTimestamp()\n            }\n\n            console.log(getGetUser)\n\n            if( !getGetUser.exists ) {\n                getUser.set(marsData)               \n            }\n        }\n    }\n\n    return (\n        <div className=\"absolute px-3 py-4 mt-1 bg-white rounded-md w-full\">\n            <ul>\n                { \n                    marsResults.length ?\n                        marsResults.map((mars: any) => \n                            <li key={mars.uid} className=\"flex flex-row justify-between items-center mb-5 last:mb-0\">\n                                <Avatar \n                                    src={ mars.photoURL } \n                                    alt={ mars.displayName } \n                                />\n\n                                <div className=\"mr-auto ml-3\">\n                                    <p className=\"font-bold\">{mars.displayName}</p>\n                                    <p className=\"text-sm\">{mars.email}</p>\n                                </div>\n\n                                <BaseBtn \n                                    onClick={()=> addMarsResult(mars)}\n                                    btnProps={{\n                                        type: 'button',\n                                        text: 'Add Mars',\n                                        color: 'blue',\n                                        size: 'small'\n                                    }}\n                                />\n                            </li>\n                        )\n                        \n                    : <li><p>Mars Not Found...</p></li>\n                } \n            </ul>\n        </div>\n    )\n}\n\nexport default SearchMarsResults","import React, { useState } from 'react'\nimport BaseInput from './BaseInput'\nimport SearchMarsResults from './SearchMarsResults'\n\nimport { firestore, auth } from './../firebase.config'\n\n\nfunction SearchMars({ onAddMars }: { onAddMars: any }) {\n    let [showSearchMarsResults, setShowSearchMarsResults] = useState(false)\n    let [marsResults, setMarsResults] = useState([])\n\n    async function searchMars({value}: {value: string}) {\n        if( value ) {\n            let marsRes = await firestore.collection(\"users\")\n                            .where('email', '!=', auth.currentUser!.email)\n                            .orderBy(\"email\", \"asc\")\n                            .startAt(value)\n                            .endAt(value+\"\\uf8ff\")\n                            .get()\n\n            // marsRes.map() doesnt work hmmm\n            let marsResData: any = []\n            marsRes.forEach((mars) => {\n                marsResData.push({ uid: mars.id ,...mars.data()})\n            })\n\n            setMarsResults(marsResData)\n            setShowSearchMarsResults(showSearchMarsResults = true)\n        }else {\n            setShowSearchMarsResults(showSearchMarsResults = false)\n        }\n    }\n\n    function hideMarsResults() {\n        setShowSearchMarsResults(showSearchMarsResults = false)\n    }\n\n    function addMars(mars: any) {\n        if( mars && auth.currentUser ) {\n            onAddMars(mars)\n            setShowSearchMarsResults(showSearchMarsResults = false)\n        }\n        console.log(mars)\n    }\n\n    return (\n        <div className=\"mb-3 text-gray-700 relative\">\n            <BaseInput\n                onDebouncedInput={searchMars}\n                onInput={hideMarsResults}\n                onClick={searchMars}\n                onBlur={hideMarsResults}\n                inputProps={{\n                    type: \"text\",\n                    labelHidden: true,\n                    required: false,\n                    label: 'Search Mars Email... '\n                }}\n            />\n            {showSearchMarsResults && <SearchMarsResults marsResults={marsResults} addMarsState={addMars}/>}\n        </div>\n    )\n}\n\n\nexport default SearchMars","import React from 'react'\nimport Avatar from './Avatar'\n\ninterface MarsInterface {\n    authUID: string;\n    createdAt: string;\n    displayName: string;\n    email: string;\n    lastMessageTime: string;\n    photoURL: string;\n    uid: string;\n}\n\n//components\nfunction MarsChatList({ marsList, onClick }: { marsList: any, onClick: Function }) {\n    return (\n        <div className=\"w-full h-full rounded-md bg-blue-200 shadow-inner overflow-hidden\">\n            <ul>\n                { \n                    marsList.map( (mars: MarsInterface) =>\n                        <li \n                            key={mars.uid} \n                            className=\"flex flex-row justify-between items-center mb-0.5 last:mb-0 p-3 bg-white\"\n                            onClick={() => onClick(mars)}\n                        >\n                            <Avatar \n                                src={mars.photoURL} \n                                alt={mars.displayName}\n                            />\n\n                            <div className=\"mr-auto ml-3\">\n                                <p className=\"font-bold\">{mars.displayName}</p>\n                                <p className=\"text-sm\">{mars.email}</p>\n                            </div>\n                        </li> \n                    )\n                }\n            </ul> \n        </div>  \n    );\n}\n\n\nexport default MarsChatList\n","import React, { useState, useEffect } from 'react'\nimport { firebase, firestore, auth } from './../firebase.config'\n\nimport SearchMars from './SearchMars'\nimport MarsChatList from './MarsChatList'\n\ninterface MarsInterface {\n    authUID: string;\n    createdAt: string;\n    displayName: string;\n    email: string;\n    lastMessageTime: string;\n    photoURL: string;\n    uid: string;\n}\n\n\nfunction DashboardLeftSidebar({onClickMarsListItem}: {onClickMarsListItem: Function}) {\n    let [marsList, setMarsList] = useState<MarsInterface[]>([])\n\n    useEffect(() => {\n        const getMarsChatList = async () => {\n            if( auth.currentUser ) {\n                let marsListRef = await firestore.collection(\"mars\")\n                .orderBy(\"lastMessageTime\", \"desc\")\n                .where(\"authUID\", \"==\", auth.currentUser.uid)\n                .get()\n    \n                // marsRes.map() doesnt work hmmm\n                let marsListData: any = []\n                marsListRef.forEach((mars: any) => {\n                    marsListData.push({ uid: mars.id ,...mars.data()})\n                })\n\n                console.log(marsListData)\n                setMarsList(marsListData)\n            } \n        }\n\n        getMarsChatList()\n    }, [])\n\n    function addMars(mars: any) {\n        if( auth.currentUser ) {\n            let { serverTimestamp } = firebase.firestore.FieldValue\n            let newMars: MarsInterface = {\n                authUID: auth.currentUser.uid,\n                ...mars,\n                lastMessageTime: serverTimestamp()\n            }\n        \n            setMarsList([newMars, ...marsList])\n        }\n    }\n\n    return (\n        <aside className=\"col-span-1 p-4 bg-blue-300 flex flex-col sticky h-full\">\n            <SearchMars onAddMars={addMars} />\n            <MarsChatList marsList={marsList} onClick={(mars: any) => onClickMarsListItem(mars)} />\n        </aside>\n    )\n}\n\n\n\nexport default DashboardLeftSidebar","import React from 'react'\nimport { auth } from './../firebase.config'\n\nimport Avatar from './Avatar'\n\nfunction Messages({message}: {message: any}) {\n\n    let isAuthMsgOwner = message.senderUID === auth.currentUser!.uid\n        \n    let msgSide = isAuthMsgOwner ? 'ml-auto' : ''\n    let imgOrder = isAuthMsgOwner ? 'float-right' : 'float-left'\n    \n    let time = message.sendTime && message.sendTime.toDate().toLocaleString('en-US')    \n    \n    return (\n        <li className={`${msgSide} block w-max mb-5`}>\n            <Avatar \n                addedClass={`${imgOrder} mx-2`}\n                src={ isAuthMsgOwner ? auth.currentUser!.photoURL : message.senderPhoto } \n                alt={ message.displayName } \n                size=\"small\"\n            />\n            <div className=\"inline-block rounded-md bg-blue-500 px-3 py-2\">\n                <p className=\"text-xs text-white mb-1\">{time}</p>\n                <p className=\"text-white\">{message.message}</p>\n            </div>\n        </li>  \n    )\n    \n}\n\n\nexport default Messages\n","import React from 'react'\nimport { auth } from './../firebase.config'\n\nimport BaseBtn from './BaseBtn'\n\nfunction SignOut() {\n    return auth.currentUser && (\n        <BaseBtn \n            onClick={() => auth.signOut()}\n            btnProps={{\n                type: 'button',\n                color: 'blue',\n                text: 'Sign out',\n                size: 'small'\n            }}\n        />\n    )\n}\n\nexport default SignOut","import React, { useRef } from 'react'\nimport { firebase, firestore, auth } from './../firebase.config'\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\n\nimport BaseBtn from './BaseBtn'\nimport Messages from './Messages'\nimport Avatar from './Avatar'\nimport SignOut from './SignOut'\n\nfunction ChatBox({ marsChat }: { marsChat: any }) {\n    let textareaVal = useRef<HTMLTextAreaElement | null>(null)\n\n    let authUID = auth.currentUser ? auth.currentUser.uid : ''\n\n    let marsMsgs = firestore.collection(\"messages\")\n        .orderBy(\"sendTime\", \"asc\")\n        .where('mars', 'in', [ \n            [authUID, marsChat.uid], [marsChat.uid, authUID] \n        ])\n        .limit(30)\n    //get data real time and onload\n    let [messages] = useCollectionData(marsMsgs, {idField: 'id'})\n\n\n    function onEnterSendMessage(e: any) {\n        if( e.key !== 'Enter' ) return\n        sendMessage()\n    }\n\n    function sendMessage() {\n        if( !auth.currentUser || !textareaVal.current || !textareaVal.current.value || !marsChat ) return\n\n        let { serverTimestamp } = firebase.firestore.FieldValue\n\n        let msgObj = {\n            message: textareaVal.current.value,\n            senderUID: auth.currentUser.uid,\n            mars: [\n                auth.currentUser.uid,\n                marsChat.uid\n            ],\n            marsPhoto: marsChat.photoURL,\n            senderPhoto: auth.currentUser.photoURL,\n            sendTime: serverTimestamp()\n        }\n\n        firestore.collection('messages').doc().set(msgObj)\n        textareaVal.current.value = ''\n    }\n\n    return (\n        <section className=\"relative col-span-3 flex flex-col justify-between bg-yellow-100 max-h-screen p-4\">\n            <div className=\"flex flex-row items-center w-full h-20 bg-yellow-300 absolute top-0 left-0 px-4 py-5 mb-4\">\n                <Avatar \n                    src={marsChat.photoURL} \n                    alt={marsChat.displayName}\n                />\n\n                <div className=\"mr-auto ml-3\">\n                    <p className=\"font-bold\">{marsChat.displayName}</p>\n                    <p className=\"text-sm\">{marsChat.email}</p>\n                </div>\n\n                <SignOut />\n            </div>\n\n            <ul className=\"bg-white w-full h-full max-h-full bg-white rounded-md p-4 mb-3 mt-20 overflow-y-scroll\">\n                { messages && messages.map(message => <Messages  key={message.id} message={message}/>) }\n            </ul>\n\n            <div className=\"flex flex-row justify-between items-center w-full\">\n                <textarea \n                    ref={textareaVal}\n                    className=\"resize-none w-full p-2 mr-3 rounded-md\" \n                    rows={3}\n                    onKeyUp={(e) => onEnterSendMessage(e)}\n                ></textarea>\n\n                <BaseBtn \n                    onClick={sendMessage}\n                    btnProps={{\n                        type: 'button',\n                        color: 'blue',\n                        text: 'Send',\n                        size: 'fullheight'\n                    }}\n                />\n            </div>            \n        </section>\n    );\n}\n\n\nexport default ChatBox\n","import React, { useState } from 'react'\n\n//components\nimport DashboardLeftSidebar from './DashboardLeftSidebar'\nimport ChatBox from './ChatBox'\nimport SignOut from './SignOut'\n\nfunction Dashboard() {\n    let [marsChat, setMarsChat] = useState(null)\n\n    function showChat(mars: any) {\n        setMarsChat(mars)\n        fetchMessages(mars)\n    }\n\n    async function fetchMessages(mars: any) {\n\n    }\n\n    return (\n        <main className=\"relative grid grid-cols-4 h-full bg-yellow-100\">\n            <DashboardLeftSidebar onClickMarsListItem={showChat} />\n            \n            { marsChat \n                ? <ChatBox marsChat={marsChat}/> \n\n                : <div className=\"col-span-3 flex flex-row items-center w-full h-20 bg-yellow-300 px-4\">\n                    <div className=\"ml-auto\">\n                        <SignOut />\n                    </div>\n                </div>\n             }\n        </main>\n    );\n}\n\n\nexport default Dashboard\n","import React from 'react';\nimport './App.css';\n\nimport { useAuthState } from 'react-firebase-hooks/auth'\nimport { auth } from './firebase.config'\n//components\nimport SignInPage from './components/SignInPage'\nimport Dashboard from './components/Dashboard'\n\nfunction App() {\n    const [user] = useAuthState(auth)\n\n    return (\n        <>\n            {user ? <Dashboard /> : <SignInPage />}\n        </>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}