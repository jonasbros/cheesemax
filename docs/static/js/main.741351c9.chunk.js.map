{"version":3,"sources":["firebase.config.js","components/BaseBtn.tsx","components/SignInPage.tsx","components/BaseInput.tsx","components/Avatar.tsx","components/SearchMarsResults.tsx","components/SearchMars.tsx","components/MarsChatList.tsx","components/DashboardLeftSidebar.tsx","components/Messages.tsx","components/SignOut.tsx","components/ChatBox.tsx","components/Dashboard.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","BaseBtn","btnProps","onClick","btnSize","size","className","color","type","text","SignIn","provider","GoogleAuthProvider","signInWithPopup","onAuthStateChanged","user","userRef","collection","serverTimestamp","FieldValue","doc","uid","set","displayName","email","photoURL","createdAt","SignInPage","src","alt","height","width","BaseInput","inputProps","onInput","onDebouncedInput","onBlur","debounceInput","_","debounce","target","debounceBlur","labelHidden","htmlFor","label","id","placeholder","required","autoComplete","onKeyUp","e","Avatar","addedClass","imgSize","SearchMarsResults","marsResults","onAddMars","addMarsResult","mars","addMarsFirestore","a","currentUser","marsRef","getUser","get","getGetUser","marsData","exists","length","map","SearchMars","useState","showSearchMarsResults","setShowSearchMarsResults","setMarsResults","searchMars","value","where","orderBy","startAt","endAt","marsRes","marsResData","forEach","push","data","hideMarsResults","MarsChatList","marsList","DashboardLeftSidebar","onClickMarsListItem","marsListRef","useCollectionData","idField","formattedMarsList","i","list","marsUID","filter","marsInfo","Messages","message","isAuthMsgOwner","senderUID","msgSide","imgOrder","time","sendTime","toDate","toLocaleString","senderPhoto","SignOut","signOut","ChatBox","marsChat","textareaVal","useRef","authUID","marsMsgs","limit","messages","sendMessage","current","msgObj","marsPhoto","console","log","ref","rows","key","onEnterSendMessage","Dashboard","setMarsChat","App","useAuthState","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.741351c9.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\"\nimport \"firebase/compat/firestore\"\nimport \"firebase/compat/auth\"\n// import { getAnalytics } from \"firebase/analytic\"\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyD_FOpZC2gs3zmc0VTNMYeI01m16CWTRs4\",\n    authDomain: \"react-chat-f3838.firebaseapp.com\",\n    projectId: \"react-chat-f3838\",\n    storageBucket: \"react-chat-f3838.appspot.com\",\n    messagingSenderId: \"151810268195\",\n    appId: \"1:151810268195:web:297a5964e13902d8716596\",\n    measurementId: \"G-W6RKDR17B6\"\n}\n\nexport {firebase}\nexport const app = firebase.initializeApp(firebaseConfig)\nexport const firestore = firebase.firestore()\nexport const auth = firebase.auth()\n\nconst defaultObj = { app, firestore, auth, firebase }\nexport default defaultObj\n\n ","import React from 'react'\n\ninterface btnPropsInterface {\n    type: any; \n    color: string; \n    text: string;\n    size?: string;\n}\n\ninterface BaseBtnInterface { \n    btnProps: btnPropsInterface;\n    onClick?: Function;\n}\n\nfunction BaseBtn({ btnProps, onClick }: BaseBtnInterface) {\n    let btnSize = 'py-3 px-6'\n\n    if( btnProps.size === 'small' ) {\n        btnSize = 'py-0.5 px-4 text-sm h-8'\n    }\n\n    if( btnProps.size === 'fullheight' ) {\n        btnSize = 'h-full w-24'\n    }\n\n    return (\n        <button \n            onClick={() => { if(onClick) onClick() }}\n            className={`${btnSize} text-white rounded-md bg-${btnProps.color}-500 hover:bg-${btnProps.color}-700 transform transition-transform hover:-translate-y-0.5 hover:shadow-md`}\n            type={btnProps.type} \n        >\n            {btnProps.text}\n        </button>\n    )\n}\n\nexport default BaseBtn","import { firebase, auth, firestore } from './../firebase.config'\n//components\nimport BaseBtn from './BaseBtn'\n\nfunction SignInPage() {\n    return (\n        <main className=\"w-full h-full flex flex-col items-center bg-yellow-200 mx-auto pt-20\">\n            <img \n                className=\"animate-bounce\"\n                src=\"/logo.png\" \n                alt=\"Cheesemax\" \n                height=\"140\" \n                width=\"140\"\n            />\n            <h1 className=\"text-6xl text-blue-600 font-bold my-9 uppercase\">Cheesemax</h1>\n            {SignIn()}\n        </main>\n    )\n}\n\nfunction SignIn() {\n    const signInWithGoogle = () => {\n        const provider = new firebase.auth.GoogleAuthProvider()\n        auth.signInWithPopup(provider)\n\n        auth.onAuthStateChanged(user => {            \n            if( user ) {\n                const userRef = firestore.collection('users')\n                const { serverTimestamp } = firebase.firestore.FieldValue\n                const getUser = userRef.doc(user.uid)\n                \n                getUser.set({\n                    displayName: user.displayName,\n                    email: user.email,\n                    photoURL: user.photoURL,\n                    createdAt: serverTimestamp()\n                })\n            }\n        })\n    }\n\n    return (\n        <BaseBtn \n            onClick={signInWithGoogle}\n            btnProps={{\n                type: 'button',\n                color: 'blue',\n                text: 'Sign in with Google'\n            }}\n        />\n    )\n}\n\nexport default SignInPage\n","import React from 'react'\nimport _ from 'lodash'\n\ninterface inputPropsInterface {\n    type: string; \n    labelHidden: boolean; \n    required: boolean;\n    label: string;\n}\n\ninterface BaseInputInterface { \n    inputProps: inputPropsInterface;\n    onInput: Function;\n    onDebouncedInput: Function;\n    onClick: Function;\n    onBlur: Function;\n}\n\nfunction BaseInput({ inputProps, onInput, onDebouncedInput, onClick, onBlur }: BaseInputInterface) {\n    const debounceInput = _.debounce((target) => {\n        onDebouncedInput(target)\n    }, 500)\n\n    const debounceBlur = _.debounce(() => {\n        onBlur()\n    }, 100)\n\n    return (\n        <>\n            <label className={inputProps.labelHidden ? 'hidden' : ''} htmlFor={inputProps.type}>{inputProps.label}</label>\n            <input \n                className=\"p-4 w-full border-2 border-blue-300 rounded-md focus:outline-none focus:ring-2 ring-blue-500\" \n                id={inputProps.type} \n                type={inputProps.type} \n                placeholder={inputProps.label}\n                required={inputProps.required}\n                autoComplete=\"pepelaugh\"\n                onKeyUp={(e) => {\n                    onInput()\n                    debounceInput(e.target)\n                }}\n                onClick={(e) => onClick(e.target)}\n                onBlur={() => debounceBlur()}\n            />\n        </>\n    )\n}\n\n\n\nexport default BaseInput","import React from 'react'\n\nfunction Avatar({ src, alt, size, addedClass }: { src: string; alt: string; size?: string; addedClass?: string; }) {\n    let imgSize = \"h-12 w-12\"\n\n    if( size === 'small' ) {\n        imgSize = \"h-8 w-8\"\n    }\n\n    return (\n        <img \n            className={`rounded-full ${imgSize} ${addedClass}`}\n            src={src} \n            alt={alt}\n        />\n    );\n}\n\n\nexport default Avatar\n","import { firebase, firestore, auth } from './../firebase.config'\n\nimport BaseBtn from './BaseBtn'\nimport Avatar from './Avatar'\n\n\nfunction SearchMarsResults({ marsResults, onAddMars }: { marsResults: any, onAddMars: Function }) {\n    function addMarsResult(mars: any) {\n        onAddMars()\n        addMarsFirestore(mars)\n    }\n\n    async function addMarsFirestore(mars: any) {\n        if( auth.currentUser ) {\n            let marsRef = firestore.collection('mars')\n            let getUser = marsRef.doc(auth.currentUser.uid + mars.uid)\n            let getGetUser = await getUser.get()\n            let { serverTimestamp } = firebase.firestore.FieldValue\n\n            let marsData = {\n                mars: [\n                    mars.uid,\n                    auth.currentUser.uid\n                ],\n                [auth.currentUser.uid]: { \n                    displayName: auth.currentUser!.displayName, \n                    photoURL: auth.currentUser!.photoURL, \n                    email: auth.currentUser!.email \n                },\n                [mars.uid]: { \n                    displayName: mars.displayName,\n                    photoURL: mars.photoURL, \n                    email: mars.email \n                },\n                lastMessageTime: serverTimestamp()\n            }\n\n            if( !getGetUser.exists ) {\n                getUser.set(marsData)               \n            }\n        }\n    }\n\n    return (\n        <div className=\"absolute px-3 py-4 mt-1 bg-white rounded-md w-full\">\n            <ul>\n                { \n                    marsResults.length ?\n                        marsResults.map((mars: any) => \n                            <li key={mars.uid} className=\"flex flex-row justify-between items-center mb-5 last:mb-0\">\n                                <Avatar \n                                    src={ mars.photoURL } \n                                    alt={ mars.displayName } \n                                />\n\n                                <div className=\"mr-auto ml-3\">\n                                    <p className=\"font-bold\">{mars.displayName}</p>\n                                    <p className=\"text-sm\">{mars.email}</p>\n                                </div>\n\n                                <BaseBtn \n                                    onClick={()=> addMarsResult(mars)}\n                                    btnProps={{\n                                        type: 'button',\n                                        text: 'Add Mars',\n                                        color: 'blue',\n                                        size: 'small'\n                                    }}\n                                />\n                            </li>\n                        )\n                        \n                    : <li><p>Mars Not Found...</p></li>\n                } \n            </ul>\n        </div>\n    )\n}\n\nexport default SearchMarsResults","import { useState } from 'react'\nimport BaseInput from './BaseInput'\nimport SearchMarsResults from './SearchMarsResults'\n\nimport { firestore, auth } from './../firebase.config'\n\nfunction SearchMars() {\n    let [showSearchMarsResults, setShowSearchMarsResults] = useState(false)\n    let [marsResults, setMarsResults] = useState([])\n\n    async function searchMars({value}: {value: string}) {\n        if( value ) {\n            let marsRes = await firestore.collection(\"users\")\n                            .where('email', '!=', auth.currentUser!.email)\n                            .orderBy(\"email\", \"asc\")\n                            .startAt(value)\n                            .endAt(value+\"\\uf8ff\")\n                            .get()\n\n            // marsRes.map() doesnt work hmmm\n            let marsResData: any = []\n            marsRes.forEach((mars) => {\n                marsResData.push({ uid: mars.id ,...mars.data()})\n            })\n\n            setMarsResults(marsResData)\n            setShowSearchMarsResults(showSearchMarsResults = true)\n        }else {\n            hideMarsResults()\n        }\n    }\n\n    function hideMarsResults() {\n        setShowSearchMarsResults(showSearchMarsResults = false)\n    }\n\n    function onAddMarsHideResults() {\n        hideMarsResults()\n    }\n\n    return (\n        <div className=\"mb-3 text-gray-700 relative\">\n            <BaseInput\n                onDebouncedInput={searchMars}\n                onInput={hideMarsResults}\n                onClick={searchMars}\n                onBlur={hideMarsResults}\n                inputProps={{\n                    type: \"text\",\n                    labelHidden: true,\n                    required: false,\n                    label: 'Search Mars Email... '\n                }}\n            />\n            {showSearchMarsResults && <SearchMarsResults marsResults={marsResults} onAddMars={onAddMarsHideResults}/>}\n        </div>\n    )\n}\n\n\nexport default SearchMars","import Avatar from './Avatar'\n\ninterface MarsInterface {\n    authUID: string;\n    createdAt: string;\n    displayName: string;\n    email: string;\n    lastMessageTime: string;\n    photoURL: string;\n    uid: string;\n}\n\n//components\nfunction MarsChatList({ marsList, onClick }: { marsList: any, onClick: Function }) {    \n    return (\n        <div className=\"w-full h-full rounded-md bg-blue-200 shadow-inner overflow-hidden\">\n            <ul>\n                { \n                    marsList.map( (mars: MarsInterface) =>\n                        <li \n                            key={mars.uid} \n                            className=\"flex flex-row justify-between items-center mb-0.5 last:mb-0 p-3 bg-white\"\n                            onClick={() => onClick(mars)}\n                        >\n                            <Avatar \n                                src={mars.photoURL} \n                                alt={mars.displayName}\n                            />\n\n                            <div className=\"mr-auto ml-3\">\n                                <p className=\"font-bold\">{mars.displayName}</p>\n                                <p className=\"text-sm\">{mars.email}</p>\n                            </div>\n                        </li> \n                    )\n                }\n            </ul> \n        </div>  \n    );\n}\n\n\nexport default MarsChatList\n","import { firestore, auth } from './../firebase.config'\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\n\nimport SearchMars from './SearchMars'\nimport MarsChatList from './MarsChatList'\n\n\nfunction DashboardLeftSidebar({onClickMarsListItem}: {onClickMarsListItem: Function}) {\n    let marsListRef = firestore.collection(\"mars\")\n        .orderBy(\"lastMessageTime\", \"asc\")\n        .where('mars', 'array-contains', auth.currentUser!.uid)\n\n    let [marsList] = useCollectionData(marsListRef, {idField: 'id'})\n    let formattedMarsList: any = []\n\n    if( marsList?.length ) {\n        formattedMarsList = marsList?.map((mars, i, list) => {\n            let marsUID = mars.mars.filter((uid: string) => uid != auth.currentUser!.uid)[0]\n            let marsInfo = list[i][marsUID]\n\n            return { uid: marsUID, displayName: marsInfo.displayName, email: marsInfo.email, photoURL: marsInfo.photoURL }\n        })\n    }\n\n    return (\n        <aside className=\"col-span-1 p-4 bg-blue-300 flex flex-col sticky h-full max-h-full\">\n            <SearchMars />\n            <MarsChatList marsList={formattedMarsList} onClick={(mars: any) => onClickMarsListItem(mars)} />\n        </aside>\n    )\n}\n\n\n\nexport default DashboardLeftSidebar","import React from 'react'\nimport { auth } from './../firebase.config'\n\nimport Avatar from './Avatar'\n\nfunction Messages({message}: {message: any}) {\n\n    let isAuthMsgOwner = message.senderUID === auth.currentUser!.uid\n        \n    let msgSide = isAuthMsgOwner ? 'ml-auto' : ''\n    let imgOrder = isAuthMsgOwner ? 'float-right' : 'float-left'\n    \n    let time = message.sendTime && message.sendTime.toDate().toLocaleString('en-US')    \n    \n    return (\n        <li className={`${msgSide} block w-max mb-5`}>\n            <Avatar \n                addedClass={`${imgOrder} mx-2`}\n                src={ isAuthMsgOwner ? auth.currentUser!.photoURL : message.senderPhoto } \n                alt={ message.displayName } \n                size=\"small\"\n            />\n            <div className=\"inline-block rounded-md bg-blue-500 px-3 py-2\">\n                <p className=\"text-xs text-white mb-1\">{time}</p>\n                <p className=\"text-white\">{message.message}</p>\n            </div>\n        </li>  \n    )\n    \n}\n\n\nexport default Messages\n","import React from 'react'\nimport { auth } from './../firebase.config'\n\nimport BaseBtn from './BaseBtn'\n\nfunction SignOut() {\n    return auth.currentUser && (\n        <BaseBtn \n            onClick={() => auth.signOut()}\n            btnProps={{\n                type: 'button',\n                color: 'blue',\n                text: 'Sign out',\n                size: 'small'\n            }}\n        />\n    )\n}\n\nexport default SignOut","import { useRef } from 'react'\nimport { firebase, firestore, auth } from './../firebase.config'\nimport { useCollectionData } from 'react-firebase-hooks/firestore'\n\nimport BaseBtn from './BaseBtn'\nimport Messages from './Messages'\nimport Avatar from './Avatar'\nimport SignOut from './SignOut'\n\nfunction ChatBox({ marsChat }: { marsChat: any }) {\n    let textareaVal = useRef<HTMLTextAreaElement | null>(null)\n\n    let authUID = auth.currentUser ? auth.currentUser.uid : ''\n\n    let marsMsgs = firestore.collection(\"messages\")\n        .orderBy(\"sendTime\", \"asc\")\n        .where('mars', 'in', [ \n            [authUID, marsChat.uid], [marsChat.uid, authUID] \n        ])\n        .limit(30)\n    //get data real time and onload\n    let [messages] = useCollectionData(marsMsgs, {idField: 'id'})\n\n\n    function onEnterSendMessage(e: any) {\n        if( e.key !== 'Enter' ) return\n        sendMessage()\n    }\n\n    function sendMessage() {\n        if( !auth.currentUser || !textareaVal.current || !textareaVal.current.value || !marsChat ) return\n\n        let { serverTimestamp } = firebase.firestore.FieldValue\n\n        let msgObj = {\n            message: textareaVal.current.value,\n            senderUID: auth.currentUser.uid,\n            mars: [\n                auth.currentUser.uid,\n                marsChat.uid\n            ],\n            marsPhoto: marsChat.photoURL,\n            senderPhoto: auth.currentUser.photoURL,\n            sendTime: serverTimestamp()\n        }\n        console.log(msgObj)\n        firestore.collection('messages').doc().set(msgObj)\n        textareaVal.current.value = ''\n    }\n\n    return (\n        <section className=\"relative col-span-3 flex flex-col justify-between bg-yellow-100 max-h-screen p-4\">\n            <div className=\"flex flex-row items-center w-full h-20 bg-yellow-300 absolute top-0 left-0 px-4 py-5 mb-4\">\n                <Avatar \n                    src={marsChat.photoURL} \n                    alt={marsChat.displayName}\n                />\n\n                <div className=\"mr-auto ml-3\">\n                    <p className=\"font-bold\">{marsChat.displayName}</p>\n                    <p className=\"text-sm\">{marsChat.email}</p>\n                </div>\n\n                <SignOut />\n            </div>\n\n            <ul className=\"bg-white w-full h-full max-h-full bg-white rounded-md p-4 mb-3 mt-20 overflow-y-scroll\">\n                { messages && messages.map(message => <Messages  key={message.id} message={message}/>) }\n            </ul>\n\n            <div className=\"flex flex-row justify-between items-center w-full\">\n                <textarea \n                    ref={textareaVal}\n                    className=\"resize-none w-full p-2 mr-3 rounded-md\" \n                    rows={3}\n                    onKeyUp={(e) => onEnterSendMessage(e)}\n                ></textarea>\n\n                <BaseBtn \n                    onClick={sendMessage}\n                    btnProps={{\n                        type: 'button',\n                        color: 'blue',\n                        text: 'Send',\n                        size: 'fullheight'\n                    }}\n                />\n            </div>            \n        </section>\n    );\n}\n\n\nexport default ChatBox\n","import { useState } from 'react'\n\n//components\nimport DashboardLeftSidebar from './DashboardLeftSidebar'\nimport ChatBox from './ChatBox'\nimport SignOut from './SignOut'\n\nfunction Dashboard() {\n    let [marsChat, setMarsChat] = useState(null)\n\n    function showChat(mars: any) {\n        console.log(mars)\n        setMarsChat(mars)\n    }\n\n    return (\n        <main className=\"relative grid grid-cols-4 h-full bg-yellow-100\">\n            <DashboardLeftSidebar onClickMarsListItem={showChat} />\n            \n            { marsChat \n                ? <ChatBox marsChat={marsChat}/> \n\n                : <div className=\"col-span-3 flex flex-row items-center w-full h-20 bg-yellow-300 px-4\">\n                    <div className=\"ml-auto\">\n                        <SignOut />\n                    </div>\n                </div>\n             }\n        </main>\n    );\n}\n\n\nexport default Dashboard\n","import React from 'react';\nimport './App.css';\n\nimport { useAuthState } from 'react-firebase-hooks/auth'\nimport { auth } from './firebase.config'\n//components\nimport SignInPage from './components/SignInPage'\nimport Dashboard from './components/Dashboard'\n\nfunction App() {\n    const [user] = useAuthState(auth)\n\n    return (\n        <>\n            {user ? <Dashboard /> : <SignInPage />}\n        </>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}